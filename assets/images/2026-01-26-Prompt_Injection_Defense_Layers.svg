<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 520">
  <defs>
    <linearGradient id="titleGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#1a1a2e"/>
      <stop offset="100%" style="stop-color:#16213e"/>
    </linearGradient>
    <linearGradient id="layer1Grad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#ff6b6b"/>
      <stop offset="100%" style="stop-color:#ee5a5a"/>
    </linearGradient>
    <linearGradient id="layer2Grad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#feca57"/>
      <stop offset="100%" style="stop-color:#ff9f43"/>
    </linearGradient>
    <linearGradient id="layer3Grad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#48dbfb"/>
      <stop offset="100%" style="stop-color:#0abde3"/>
    </linearGradient>
    <linearGradient id="layer4Grad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#1dd1a1"/>
      <stop offset="100%" style="stop-color:#10ac84"/>
    </linearGradient>
    <filter id="shadow" x="-10%" y="-10%" width="120%" height="120%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.3"/>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="700" height="520" fill="#0f0f23"/>
  
  <!-- Title -->
  <rect x="0" y="0" width="700" height="50" fill="url(#titleGrad)"/>
  <text x="350" y="32" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#ffffff" text-anchor="middle">Prompt Injection Defense Layers</text>
  
  <!-- Layer 1: Input Validation -->
  <rect x="50" y="70" width="600" height="100" rx="10" fill="url(#layer1Grad)" filter="url(#shadow)"/>
  <rect x="50" y="70" width="600" height="28" rx="10" fill="rgba(0,0,0,0.2)"/>
  <text x="70" y="90" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#ffffff">Layer 1: Input Validation</text>
  
  <g font-family="Arial, sans-serif" font-size="11" fill="#fff8f8">
    <text x="70" y="118">├─ 입력 길이 제한 (Max Length Check)</text>
    <text x="70" y="138">├─ 특수 문자 필터링 (Special Character Filter)</text>
    <text x="70" y="158">└─ 알려진 공격 패턴 차단 (Known Attack Pattern Block)</text>
  </g>
  
  <!-- Arrow -->
  <path d="M350 170 L350 185" stroke="#ff6b6b" stroke-width="3" fill="none"/>
  <polygon points="350,190 345,180 355,180" fill="#ff6b6b"/>
  
  <!-- Layer 2: Prompt Hardening -->
  <rect x="50" y="195" width="600" height="100" rx="10" fill="url(#layer2Grad)" filter="url(#shadow)"/>
  <rect x="50" y="195" width="600" height="28" rx="10" fill="rgba(0,0,0,0.2)"/>
  <text x="70" y="215" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#1a1a2e">Layer 2: Prompt Hardening</text>
  
  <g font-family="Arial, sans-serif" font-size="11" fill="#2d2d2d">
    <text x="70" y="243">├─ 역할 분리 (System vs User Prompt Separation)</text>
    <text x="70" y="263">├─ 명시적 지시문 경계 (Explicit Instruction Boundaries)</text>
    <text x="70" y="283">└─ 컨텍스트 격리 (Context Isolation)</text>
  </g>
  
  <!-- Arrow -->
  <path d="M350 295 L350 310" stroke="#feca57" stroke-width="3" fill="none"/>
  <polygon points="350,315 345,305 355,305" fill="#feca57"/>
  
  <!-- Layer 3: Output Validation -->
  <rect x="50" y="320" width="600" height="100" rx="10" fill="url(#layer3Grad)" filter="url(#shadow)"/>
  <rect x="50" y="320" width="600" height="28" rx="10" fill="rgba(0,0,0,0.2)"/>
  <text x="70" y="340" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#0a3d62">Layer 3: Output Validation</text>
  
  <g font-family="Arial, sans-serif" font-size="11" fill="#0a3d62">
    <text x="70" y="368">├─ 응답 내용 검증 (Response Content Verification)</text>
    <text x="70" y="388">├─ 민감 정보 필터링 (Sensitive Information Filtering)</text>
    <text x="70" y="408">└─ 형식 준수 확인 (Format Compliance Check)</text>
  </g>
  
  <!-- Arrow -->
  <path d="M350 420 L350 435" stroke="#48dbfb" stroke-width="3" fill="none"/>
  <polygon points="350,440 345,430 355,430" fill="#48dbfb"/>
  
  <!-- Layer 4: Runtime Monitoring -->
  <rect x="50" y="445" width="600" height="65" rx="10" fill="url(#layer4Grad)" filter="url(#shadow)"/>
  <rect x="50" y="445" width="600" height="28" rx="10" fill="rgba(0,0,0,0.2)"/>
  <text x="70" y="465" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#ffffff">Layer 4: Runtime Monitoring</text>
  
  <g font-family="Arial, sans-serif" font-size="11" fill="#e8f8f5">
    <text x="70" y="493">├─ 이상 패턴 탐지</text>
    <text x="250" y="493">├─ Rate Limiting</text>
    <text x="420" y="493">└─ 감사 로그 기록</text>
  </g>
  
  <!-- Side indicator: Defense depth -->
  <rect x="665" y="70" width="25" height="440" rx="5" fill="rgba(255,255,255,0.05)" stroke="#333"/>
  <text x="677" y="300" font-family="Arial, sans-serif" font-size="10" fill="#666" text-anchor="middle" transform="rotate(-90 677 300)">Defense in Depth</text>
  
  <!-- Top arrow (User Input) -->
  <rect x="300" y="50" width="100" height="20" rx="3" fill="#333"/>
  <text x="350" y="64" font-family="Arial, sans-serif" font-size="10" fill="#aaa" text-anchor="middle">User Input</text>
  <path d="M350 50 L350 70" stroke="#666" stroke-width="2"/>
</svg>