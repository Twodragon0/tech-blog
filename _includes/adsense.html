{% comment %}
  Google AdSense 광고 컴포넌트
  
  사용법:
    {% include adsense.html type="in-article" %}
    {% include adsense.html type="sidebar" %}
    {% include adsense.html type="footer" %}
    {% include adsense.html type="multiplex" %}
  
  Parameters:
    type: 광고 유형 (in-article, sidebar, footer, multiplex, responsive)
    
  CLS 방지:
    - 모든 광고는 고정 높이 컨테이너로 감싸짐
    - contain: layout style로 레이아웃 격리
{% endcomment %}

{% if site.google_adsense %}
{% assign ad_type = include.type | default: "responsive" %}

{% case ad_type %}

{% when "in-article" %}
{%- comment -%} 본문 중간 광고 - 가로형 반응형 {%- endcomment -%}
<div class="ad-container ad-in-article" style="min-height: 280px; margin: 2rem 0; contain: layout style;">
  <ins class="adsbygoogle"
       style="display:block; text-align:center; min-height: 250px;"
       data-ad-layout="in-article"
       data-ad-format="fluid"
       data-ad-client="{{ site.google_adsense }}"
       data-ad-slot="auto"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>

{% when "sidebar" %}
{%- comment -%} 사이드바 광고 - 세로형 {%- endcomment -%}
<div class="ad-container ad-sidebar" style="min-height: 600px; margin: 1rem 0; contain: layout style;">
  <ins class="adsbygoogle"
       style="display:block; min-height: 600px;"
       data-ad-client="{{ site.google_adsense }}"
       data-ad-slot="auto"
       data-ad-format="vertical"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>

{% when "footer" %}
{%- comment -%} 푸터/댓글 전 광고 - 가로형 {%- endcomment -%}
<div class="ad-container ad-footer" style="min-height: 100px; margin: 2rem 0; contain: layout style;">
  <ins class="adsbygoogle"
       style="display:block; min-height: 90px;"
       data-ad-client="{{ site.google_adsense }}"
       data-ad-slot="auto"
       data-ad-format="horizontal"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>

{% when "multiplex" %}
{%- comment -%} 멀티플렉스 광고 - 관련 콘텐츠 스타일 {%- endcomment -%}
<div class="ad-container ad-multiplex" style="min-height: 300px; margin: 2rem 0; contain: layout style;">
  <ins class="adsbygoogle"
       style="display:block; min-height: 280px;"
       data-ad-format="autorelaxed"
       data-ad-client="{{ site.google_adsense }}"
       data-ad-slot="auto"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>

{% when "infeed" %}
{%- comment -%} 인피드 광고 - 포스트 목록 사이에 자연스럽게 삽입 {%- endcomment -%}
<div class="ad-container ad-infeed" style="min-height: 180px; margin: 1rem 0; contain: layout style; border-radius: 12px; overflow: hidden;">
  <ins class="adsbygoogle"
       style="display:block; min-height: 150px;"
       data-ad-format="fluid"
       data-ad-layout-key="-fb+5w+4e-db+86"
       data-ad-client="{{ site.google_adsense }}"
       data-ad-slot="auto"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>

{% else %}
{%- comment -%} 기본 반응형 광고 {%- endcomment -%}
<div class="ad-container ad-responsive" style="min-height: 280px; margin: 2rem 0; contain: layout style;">
  <ins class="adsbygoogle"
       style="display:block; min-height: 250px;"
       data-ad-client="{{ site.google_adsense }}"
       data-ad-slot="auto"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>

{% endcase %}
{% endif %}
