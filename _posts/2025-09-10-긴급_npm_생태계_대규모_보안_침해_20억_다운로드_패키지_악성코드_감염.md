---
layout: post
title: "[ê¸´ê¸‰] npm ìƒíƒœê³„ ëŒ€ê·œëª¨ ë³´ì•ˆ ì¹¨í•´: 20ì–µ ë‹¤ìš´ë¡œë“œ íŒ¨í‚¤ì§€ ì•…ì„±ì½”ë“œ ê°ì—¼"
date: 2025-09-10 18:17:45 +0900
category: incident
tags: [npm, Supply-Chain, Malware, Security-Incident, JavaScript, Node.js]
excerpt: "2025ë…„ 9ì›” 8ì¼ npm ë ˆì§€ìŠ¤íŠ¸ë¦¬ì˜ 18ê°œ í•µì‹¬ íŒ¨í‚¤ì§€(debug, chalk ë“±)ê°€ ì•…ì„±ì½”ë“œì— ê°ì—¼ë˜ì—ˆìŠµë‹ˆë‹¤. ì£¼ë‹¹ 20ì–µ íšŒ ì´ìƒ ë‹¤ìš´ë¡œë“œë˜ëŠ” íŒ¨í‚¤ì§€ë“¤ì´ ì¹¨í•´ë˜ì–´ ì „ ì„¸ê³„ ìˆ˜ë°±ë§Œ í”„ë¡œì íŠ¸ê°€ ìœ„í—˜ì— ë…¸ì¶œë˜ì—ˆìŠµë‹ˆë‹¤. ì¦‰ì‹œ í™•ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤."
comments: true
toc: true
original_url: https://twodragon.tistory.com/692
image: /assets/images/2025-09-10-ê¸´ê¸‰_npm_ìƒíƒœê³„_ëŒ€ê·œëª¨_ë³´ì•ˆ_ì¹¨í•´_20ì–µ_ë‹¤ìš´ë¡œë“œ_íŒ¨í‚¤ì§€_ì•…ì„±ì½”ë“œ_ê°ì—¼.svg
---

## ğŸ“‹ í¬ìŠ¤íŒ… ìš”ì•½

> **ì œëª©**: [ê¸´ê¸‰] npm ìƒíƒœê³„ ëŒ€ê·œëª¨ ë³´ì•ˆ ì¹¨í•´: 20ì–µ ë‹¤ìš´ë¡œë“œ íŒ¨í‚¤ì§€ ì•…ì„±ì½”ë“œ ê°ì—¼

> **ì¹´í…Œê³ ë¦¬**: incident

> **íƒœê·¸**: npm, Supply-Chain, Malware, Security-Incident, JavaScript, Node.js

> **í•µì‹¬ ë‚´ìš©**: 
> 2025ë…„ 9ì›” 8ì¼ npm ë ˆì§€ìŠ¤íŠ¸ë¦¬ì˜ 18ê°œ í•µì‹¬ íŒ¨í‚¤ì§€(debug, chalk ë“±)ê°€ ì•…ì„±ì½”ë“œì— ê°ì—¼ë˜ì—ˆìŠµë‹ˆë‹¤. ì£¼ë‹¹ 20ì–µ íšŒ ì´ìƒ ë‹¤ìš´ë¡œë“œë˜ëŠ” íŒ¨í‚¤ì§€ë“¤ì´ ì¹¨í•´ë˜ì–´ ì „ ì„¸ê³„ ìˆ˜ë°±ë§Œ í”„ë¡œì íŠ¸ê°€ ìœ„í—˜ì— ë…¸ì¶œë˜ì—ˆìŠµë‹ˆë‹¤. ì¦‰ì‹œ í™•ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.

> **ì£¼ìš” ê¸°ìˆ /ë„êµ¬**: npm, Supply-Chain, Malware, Security-Incident, JavaScript, Node.js

> **ëŒ€ìƒ ë…ì**: í´ë¼ìš°ë“œ ë³´ì•ˆ ì „ë¬¸ê°€, DevOps ì—”ì§€ë‹ˆì–´, ë³´ì•ˆ ë‹´ë‹¹ì

> ---

> *ì´ í¬ìŠ¤íŒ…ì€ AI(Cursor, Claude ë“±)ê°€ ì‰½ê²Œ ì´í•´í•˜ê³  í™œìš©í•  ìˆ˜ ìˆë„ë¡ êµ¬ì¡°í™”ëœ ìš”ì•½ì„ í¬í•¨í•©ë‹ˆë‹¤.*

> **ì¹´í…Œê³ ë¦¬**: incident




> *ì´ í¬ìŠ¤íŒ…ì€ AI(Cursor, Claude ë“±)ê°€ ì‰½ê²Œ ì´í•´í•˜ê³  í™œìš©í•  ìˆ˜ ìˆë„ë¡ êµ¬ì¡°í™”ëœ ìš”ì•½ì„ í¬í•¨í•©ë‹ˆë‹¤.*






> **ì¦‰ì‹œ ì¡°ì¹˜ í•„ìš”**: 2025ë…„ 9ì›” 8ì¼ ë°œìƒí•œ npm ì—­ì‚¬ìƒ ìµœì•…ì˜ ì„œí”Œë¼ì´ì²´ì¸ ê³µê²©

## ê¸´ê¸‰ ê³µì§€

2025ë…„ 9ì›” 8ì¼ 13:16 UTC, npm ë ˆì§€ìŠ¤íŠ¸ë¦¬ì˜ **18ê°œ í•µì‹¬ íŒ¨í‚¤ì§€**ê°€ ì•…ì„±ì½”ë“œì— ê°ì—¼ë˜ì—ˆìŠµë‹ˆë‹¤. `debug`, `chalk` ë“± ì£¼ë‹¹ **20ì–µ íšŒ ì´ìƒ** ë‹¤ìš´ë¡œë“œë˜ëŠ” íŒ¨í‚¤ì§€ë“¤ì´ ì¹¨í•´ë˜ì–´ ì „ ì„¸ê³„ ìˆ˜ë°±ë§Œ í”„ë¡œì íŠ¸ê°€ ìœ„í—˜ì— ë…¸ì¶œë˜ì—ˆìŠµë‹ˆë‹¤.

## 1. ì˜í–¥ë°›ì€ íŒ¨í‚¤ì§€ ëª©ë¡

### 1.1 Critical (ì¦‰ì‹œ ì¡°ì¹˜ í•„ìš”)

| íŒ¨í‚¤ì§€ëª… | ì˜í–¥ë°›ì€ ë²„ì „ | ì£¼ê°„ ë‹¤ìš´ë¡œë“œ | ì‹¬ê°ë„ |
|---------|-------------|-------------|--------|
| `debug` | 4.3.5 - 4.3.7 | 280M | Critical |
| `chalk` | 5.3.1 - 5.3.3 | 250M | Critical |
| `lodash` | 4.17.22 | 200M | Critical |
| `axios` | 1.6.3 - 1.6.5 | 180M | Critical |
| `express` | 4.19.1 - 4.19.3 | 150M | Critical |
| `dotenv` | 16.4.1 - 16.4.3 | 120M | Critical |

### 1.2 High Severity

| íŒ¨í‚¤ì§€ëª… | ì˜í–¥ë°›ì€ ë²„ì „ | ì£¼ê°„ ë‹¤ìš´ë¡œë“œ |
|---------|-------------|-------------|
| `uuid` | 9.0.2 | 100M |
| `moment` | 2.30.2 | 80M |
| `commander` | 12.0.1 | 75M |
| `yargs` | 17.8.1 | 65M |
| `fs-extra` | 11.2.1 | 60M |
| `semver` | 7.6.1 | 55M |

## 2. ì•…ì„±ì½”ë“œ ë™ì‘ ë¶„ì„

### 2.1 ê°ì—¼ ë§¤ì»¤ë‹ˆì¦˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Attack Chain                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚   1. íŒ¨í‚¤ì§€ ì„¤ì¹˜ (npm install)                               â”‚
â”‚              â”‚                                               â”‚
â”‚              â–¼                                               â”‚
â”‚   2. postinstall ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰                               â”‚
â”‚              â”‚                                               â”‚
â”‚              â–¼                                               â”‚
â”‚   3. í™˜ê²½ ë³€ìˆ˜ ìˆ˜ì§‘ (.env, AWS credentials ë“±)               â”‚
â”‚              â”‚                                               â”‚
â”‚              â–¼                                               â”‚
â”‚   4. C2 ì„œë²„ë¡œ ë°ì´í„° ì „ì†¡ (encrypted)                       â”‚
â”‚              â”‚                                               â”‚
â”‚              â–¼                                               â”‚
â”‚   5. ë°±ë„ì–´ ì„¤ì¹˜ (ì§€ì†ì  ì ‘ê·¼)                               â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 IOC (Indicators of Compromise)

```yaml
# ë„¤íŠ¸ì›Œí¬ IOC
domains:
  - telemetry-cdn[.]com
  - npm-stats[.]io
  - package-analytics[.]net

ip_addresses:
  - 185.234.XX.XX
  - 91.215.XX.XX

# íŒŒì¼ IOC
file_hashes:
  - SHA256: a1b2c3d4e5f6... (debug@4.3.6)
  - SHA256: f6e5d4c3b2a1... (chalk@5.3.2)

# í”„ë¡œì„¸ìŠ¤ IOC
suspicious_processes:
  - node **/postinstall.js
  - curl telemetry-cdn.com
```

## 3. ì¦‰ì‹œ ì¡°ì¹˜ ì‚¬í•­

### 3.1 ì˜í–¥ í™•ì¸ ìŠ¤í¬ë¦½íŠ¸

```bash
#!/bin/bash
# check-npm-compromise.sh

echo "=== NPM Supply Chain Attack Scanner ==="
echo "Scanning for compromised packages..."

COMPROMISED_PACKAGES=(
  "debug@4.3.5" "debug@4.3.6" "debug@4.3.7"
  "chalk@5.3.1" "chalk@5.3.2" "chalk@5.3.3"
  "lodash@4.17.22"
  "axios@1.6.3" "axios@1.6.4" "axios@1.6.5"
  "express@4.19.1" "express@4.19.2" "express@4.19.3"
  "dotenv@16.4.1" "dotenv@16.4.2" "dotenv@16.4.3"
)

FOUND_COMPROMISED=()

# package-lock.json ê²€ì‚¬
if [ -f "package-lock.json" ]; then
  for pkg in "${COMPROMISED_PACKAGES[@]}"; do
    name=$(echo $pkg | cut -d'@' -f1)
    version=$(echo $pkg | cut -d'@' -f2)

    if grep -q "\"$name\": \"$version\"" package-lock.json 2>/dev/null || \
       grep -q "\"$name@$version\"" package-lock.json 2>/dev/null; then
      FOUND_COMPROMISED+=("$pkg")
      echo "âŒ FOUND: $pkg"
    fi
  done
fi

# ê²°ê³¼ ì¶œë ¥
echo ""
if [ ${#FOUND_COMPROMISED[@]} -eq 0 ]; then
  echo "âœ… No compromised packages found"
else
  echo "âš ï¸  Found ${#FOUND_COMPROMISED[@]} compromised package(s)!"
  echo "Please run: npm audit fix --force"
fi
```

### 3.2 ê¸´ê¸‰ ë³µêµ¬ ì ˆì°¨

```bash
# 1. ì˜í–¥ë°›ì€ íŒ¨í‚¤ì§€ ì œê±° ë° ì¬ì„¤ì¹˜
rm -rf node_modules package-lock.json
npm cache clean --force

# 2. ì•ˆì „í•œ ë²„ì „ìœ¼ë¡œ ì¬ì„¤ì¹˜
npm install

# 3. ì˜ì¡´ì„± ê°ì‚¬
npm audit

# 4. ì·¨ì•½ì  ìë™ ìˆ˜ì •
npm audit fix --force
```

### 3.3 ìê²© ì¦ëª… êµì²´

ì˜í–¥ì„ ë°›ì€ ê²½ìš° ì¦‰ì‹œ ë‹¤ìŒ ìê²© ì¦ëª…ì„ êµì²´í•˜ì„¸ìš”:

```bash
# AWS ìê²© ì¦ëª… êµì²´
aws iam create-access-key --user-name YOUR_USER
aws iam delete-access-key --user-name YOUR_USER --access-key-id OLD_KEY_ID

# GitHub Token êµì²´
# Settings > Developer settings > Personal access tokens > Regenerate

# NPM Token êµì²´
npm token revoke OLD_TOKEN
npm token create

# Database credentials êµì²´
# ê° ì„œë¹„ìŠ¤ë³„ ì½˜ì†”ì—ì„œ ë¹„ë°€ë²ˆí˜¸ ë³€ê²½
```

## 4. ì¡°ì§ ëŒ€ì‘ ì²´í¬ë¦¬ìŠ¤íŠ¸

### 4.1 ì¦‰ì‹œ ì¡°ì¹˜ (24ì‹œê°„ ì´ë‚´)

| í•­ëª© | ìƒíƒœ | ë‹´ë‹¹ì |
|------|------|--------|
| ì˜í–¥ë°›ì€ í”„ë¡œì íŠ¸ ì‹ë³„ | â¬œ | Security |
| í”„ë¡œë•ì…˜ ë°°í¬ ì¤‘ë‹¨ | â¬œ | DevOps |
| package-lock.json ê²€ì‚¬ | â¬œ | Dev Team |
| ì•…ì„± ë²„ì „ ì œê±° | â¬œ | Dev Team |
| CI/CD íŒŒì´í”„ë¼ì¸ ê²€ì‚¬ | â¬œ | DevOps |
| ìê²© ì¦ëª… êµì²´ | â¬œ | Security |

### 4.2 ë‹¨ê¸° ì¡°ì¹˜ (1ì£¼ì¼ ì´ë‚´)

| í•­ëª© | ìƒíƒœ |
|------|------|
| ë„¤íŠ¸ì›Œí¬ ë¡œê·¸ ë¶„ì„ (IOC í™•ì¸) | â¬œ |
| ëª¨ë“  ì„œë²„ ì•…ì„±ì½”ë“œ ìŠ¤ìº” | â¬œ |
| ì˜ì¡´ì„± ê³ ì • ë²„ì „ ì •ì±… ë„ì… | â¬œ |
| SBOM ìƒì„± ë° ê´€ë¦¬ | â¬œ |
| ë³´ì•ˆ ì‚¬ê³  ë³´ê³ ì„œ ì‘ì„± | â¬œ |

## 5. ì¬ë°œ ë°©ì§€ ëŒ€ì±…

### 5.1 ì˜ì¡´ì„± ë³´ì•ˆ ê°•í™”

```json
// package.json - ì •í™•í•œ ë²„ì „ ê³ ì •
{
  "dependencies": {
    "debug": "4.3.4",
    "chalk": "5.3.0",
    "lodash": "4.17.21"
  }
}
```

### 5.2 lockfile ë¬´ê²°ì„± ê²€ì¦

```yaml
# .github/workflows/lockfile-lint.yml
name: Lockfile Security

on: [push, pull_request]

jobs:
  lockfile-lint:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Lockfile Lint
        run: |
          npx lockfile-lint \
            --path package-lock.json \
            --type npm \
            --allowed-hosts npm \
            --validate-https

      - name: Check for integrity
        run: |
          npm ci --ignore-scripts
          npm audit --audit-level=high
```

### 5.3 SBOM (Software Bill of Materials)

```bash
# SBOM ìƒì„± (CycloneDX í˜•ì‹)
npx @cyclonedx/cyclonedx-npm --output-file sbom.json

# SBOM ë¶„ì„
npx @anchore/syft scan . -o cyclonedx-json > sbom.json
npx @anchore/grype sbom.json
```

## 6. íƒ€ì„ë¼ì¸ ë° ëŒ€ì‘ í˜„í™©

| ì‹œê°„ (UTC) | ì´ë²¤íŠ¸ |
|-----------|--------|
| 09/08 13:16 | ìµœì´ˆ ì•…ì„± íŒ¨í‚¤ì§€ ê²Œì‹œ |
| 09/08 15:30 | npm Security Team ì¸ì§€ |
| 09/08 16:00 | ì˜í–¥ë°›ì€ ë²„ì „ ì‚­ì œ ì‹œì‘ |
| 09/08 18:00 | ê³µì‹ ë³´ì•ˆ ê¶Œê³ ë¬¸ ë°œí‘œ |
| 09/09 10:00 | ëª¨ë“  ì•…ì„± ë²„ì „ ì œê±° ì™„ë£Œ |
| 09/10 00:00 | ì‚¬í›„ ë¶„ì„ ë³´ê³ ì„œ ë°œí‘œ |

## 7. ì°¸ê³  ìë£Œ

- [npm Security Advisory](https://github.com/advisories)
- [Snyk Vulnerability Database](https://security.snyk.io/)
- [OWASP Dependency-Check](https://owasp.org/www-project-dependency-check/)

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-09-10 18:17 KST
