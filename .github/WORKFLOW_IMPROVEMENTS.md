# ì›Œí¬í”Œë¡œìš° ê°œì„ ì‚¬í•­

## ğŸ” ë°œê²¬ëœ ë¬¸ì œ

### 1. DeepSeek API íƒ€ì„ì•„ì›ƒ ì˜¤ë¥˜

**ë¬¸ì œ:**
- `HTTPSConnectionPool(host='api.deepseek.com', port=443): Read timed out.`
- ê¸´ í¬ìŠ¤íŠ¸(10,000ì ì´ìƒ) ì²˜ë¦¬ ì‹œ 30ì´ˆ íƒ€ì„ì•„ì›ƒìœ¼ë¡œ ì¸í•œ ì‹¤íŒ¨

**ì›ì¸:**
- íƒ€ì„ì•„ì›ƒ ì‹œê°„ì´ ë„ˆë¬´ ì§§ìŒ (30ì´ˆ)
- ì¬ì‹œë„ ë¡œì§ ì—†ìŒ
- ë„¤íŠ¸ì›Œí¬ ì§€ì—° ëŒ€ì‘ ë¶€ì¡±

## âœ… ì ìš©ëœ ê°œì„ ì‚¬í•­

### 1. íƒ€ì„ì•„ì›ƒ ì‹œê°„ ì¦ê°€
- **ë³€ê²½ ì „**: 30ì´ˆ
- **ë³€ê²½ í›„**: 120ì´ˆ
- ê¸´ í¬ìŠ¤íŠ¸ ì²˜ë¦¬ ì‹œ ì¶©ë¶„í•œ ì‹œê°„ í™•ë³´

### 2. ì¬ì‹œë„ ë¡œì§ ì¶”ê°€
- **ìµœëŒ€ ì¬ì‹œë„ íšŸìˆ˜**: 3íšŒ
- **ì¬ì‹œë„ ì „ëµ**: ì§€ìˆ˜ ë°±ì˜¤í”„ (Exponential Backoff)
  - 1ì°¨ ì¬ì‹œë„: 2ì´ˆ ëŒ€ê¸°
  - 2ì°¨ ì¬ì‹œë„: 4ì´ˆ ëŒ€ê¸°
  - 3ì°¨ ì¬ì‹œë„: 8ì´ˆ ëŒ€ê¸°

### 3. ì—ëŸ¬ í•¸ë“¤ë§ ê°œì„ 
- íƒ€ì„ì•„ì›ƒ ì˜¤ë¥˜ì™€ ì¼ë°˜ ì˜¤ë¥˜ êµ¬ë¶„
- ê° ì‹œë„ë§ˆë‹¤ ìƒì„¸í•œ ë¡œê·¸ ê¸°ë¡
- ìµœì¢… ì‹¤íŒ¨ ì‹œ ëª…í™•í•œ ì˜¤ë¥˜ ë©”ì‹œì§€

### 4. ë¡œê¹… ê°œì„ 
- ì¬ì‹œë„ ì‹œë„ íšŸìˆ˜ í‘œì‹œ
- ëŒ€ê¸° ì‹œê°„ í‘œì‹œ
- ì˜¤ë¥˜ ìœ í˜•ë³„ ìƒì„¸ ë©”ì‹œì§€

## ğŸ“ ì½”ë“œ ë³€ê²½ ì‚¬í•­

### `scripts/generate_enhanced_audio.py`

```python
# ì¬ì‹œë„ ë¡œì§ ì¶”ê°€
max_retries = 3
retry_delay = 2  # ì´ˆê¸° ì¬ì‹œë„ ëŒ€ê¸° ì‹œê°„ (ì´ˆ)

for attempt in range(1, max_retries + 1):
    try:
        # ì§€ìˆ˜ ë°±ì˜¤í”„ ì ìš©
        if attempt > 1:
            wait_time = retry_delay * (2 ** (attempt - 2))
            time.sleep(wait_time)
        
        # íƒ€ì„ì•„ì›ƒ ì¦ê°€
        timeout_seconds = 120  # 30ì´ˆ â†’ 120ì´ˆ
        
        response = requests.post(
            DEEPSEEK_API_URL,
            json=data,
            headers=headers,
            timeout=timeout_seconds
        )
        
        # ì„±ê³µ ì‹œ ì²˜ë¦¬...
        
    except requests.exceptions.Timeout as e:
        # íƒ€ì„ì•„ì›ƒ ì˜¤ë¥˜ ì²˜ë¦¬
        if attempt < max_retries:
            continue
        return None
    except requests.exceptions.RequestException as e:
        # ì¼ë°˜ ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ì²˜ë¦¬
        if attempt < max_retries:
            continue
        return None
```

## ğŸ¯ ì˜ˆìƒ íš¨ê³¼

1. **ì•ˆì •ì„± í–¥ìƒ**: ì¬ì‹œë„ ë¡œì§ìœ¼ë¡œ ì¼ì‹œì  ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ê·¹ë³µ
2. **ì„±ê³µë¥  ì¦ê°€**: íƒ€ì„ì•„ì›ƒ ì‹œê°„ ì¦ê°€ë¡œ ê¸´ í¬ìŠ¤íŠ¸ ì²˜ë¦¬ ê°€ëŠ¥
3. **ì‚¬ìš©ì ê²½í—˜ ê°œì„ **: ëª…í™•í•œ ì˜¤ë¥˜ ë©”ì‹œì§€ì™€ ì¬ì‹œë„ ì§„í–‰ ìƒí™© í‘œì‹œ

## ğŸ”„ ì¶”ê°€ ê°œì„  ì œì•ˆ

### 1. ìš”ì²­ í¬ê¸° ìµœì í™”
- ë§¤ìš° ê¸´ í¬ìŠ¤íŠ¸ëŠ” ì²­í¬ë¡œ ë‚˜ëˆ„ì–´ ì²˜ë¦¬
- ë˜ëŠ” í¬ìŠ¤íŠ¸ ìš”ì•½ í›„ ì²˜ë¦¬

### 2. ìºì‹± ì¶”ê°€
- ë™ì¼ í¬ìŠ¤íŠ¸ ì¬ì²˜ë¦¬ ì‹œ ìºì‹œëœ ëŒ€ë³¸ ì‚¬ìš©
- ë¹„ìš© ì ˆê° ë° ì†ë„ í–¥ìƒ

### 3. ëª¨ë‹ˆí„°ë§ ê°•í™”
- API ì‘ë‹µ ì‹œê°„ ì¶”ì 
- ì‹¤íŒ¨ìœ¨ ëª¨ë‹ˆí„°ë§
- ì•Œë¦¼ ì„¤ì •

### 4. ë¹„ë™ê¸° ì²˜ë¦¬
- ì—¬ëŸ¬ í¬ìŠ¤íŠ¸ ë³‘ë ¬ ì²˜ë¦¬
- ì²˜ë¦¬ ì‹œê°„ ë‹¨ì¶•

## ğŸ“Š ì„±ëŠ¥ ì§€í‘œ

### ê°œì„  ì „
- íƒ€ì„ì•„ì›ƒ ì˜¤ë¥˜ ë°œìƒë¥ : ë†’ìŒ
- ê¸´ í¬ìŠ¤íŠ¸ ì²˜ë¦¬ ì„±ê³µë¥ : ë‚®ìŒ
- í‰ê·  ì²˜ë¦¬ ì‹œê°„: ë¶ˆì•ˆì •

### ê°œì„  í›„ (ì˜ˆìƒ)
- íƒ€ì„ì•„ì›ƒ ì˜¤ë¥˜ ë°œìƒë¥ : ë‚®ìŒ (ì¬ì‹œë„ë¡œ ëŒ€ë¶€ë¶„ í•´ê²°)
- ê¸´ í¬ìŠ¤íŠ¸ ì²˜ë¦¬ ì„±ê³µë¥ : ë†’ìŒ
- í‰ê·  ì²˜ë¦¬ ì‹œê°„: ì•ˆì •ì 

## ğŸ”— ê´€ë ¨ ë¬¸ì„œ

- [Troubleshooting Video Gen](./TROUBLESHOOTING_VIDEO_GEN.md)
- [Cost Management](./COST_MANAGEMENT.md)
- [Workflow Test Guide](./WORKFLOW_TEST_GUIDE.md)
