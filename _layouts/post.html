---
layout: default
---
<div class="reading-progress" id="reading-progress"></div>

<article class="post-article" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    {% comment %} 모바일 최적화: 카테고리 → 제목 → 메타 → 이미지 순서로 표시 {% endcomment %}
    {% if page.category %}
    <div class="post-category">
      <a href="{{ '/categories/' | relative_url }}#{{ page.category | downcase }}" class="category-badge {{ page.category | downcase }}">
        {{ page.category }}
      </a>
    </div>
    {% elsif page.categories.first %}
    <div class="post-category">
      <a href="{{ '/categories/' | relative_url }}#{{ page.categories.first | downcase | replace: ' ', '-' }}" class="category-badge {{ page.categories.first | downcase | replace: ' ', '-' }}">
        {{ page.categories.first }}
      </a>
    </div>
    {% endif %}

    <h1 class="post-title" itemprop="name headline">{{ page.title | escape }}</h1>

    <div class="post-meta">
      <span class="meta-item">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
          <line x1="16" y1="2" x2="16" y2="6"/>
          <line x1="8" y1="2" x2="8" y2="6"/>
          <line x1="3" y1="10" x2="21" y2="10"/>
        </svg>
        <time class="dt-published" datetime="{{ page.date | date_to_xmlschema }}" itemprop="datePublished">
          {{ page.date | date: "%Y. %m. %d" }}
        </time>
      </span>

      <span class="meta-item">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
          <circle cx="12" cy="12" r="10"/>
          <polyline points="12 6 12 12 16 14"/>
        </svg>
        <span id="reading-time" style="min-width:4em;display:inline-block">&nbsp;</span>
      </span>

      <span class="meta-item" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
          <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
          <circle cx="12" cy="7" r="4"/>
        </svg>
        <span itemprop="name">{{ site.author.name }}</span>
      </span>

      {% if page.last_modified_at %}
      <span class="meta-item meta-updated" title="Last Updated">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
          <path d="M23 4v6h-6"/>
          <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/>
        </svg>
        <time class="dt-updated" datetime="{{ page.last_modified_at | date_to_xmlschema }}" itemprop="dateModified">
          {{ page.last_modified_at | date: "%Y. %m. %d" }}
        </time>
      </span>
      {% endif %}
    </div>

    {% if page.tags.size > 0 %}
    <div class="post-tags">
      {% for tag in page.tags %}
      <a href="{{ '/tags/' | relative_url }}#{{ tag | append: '' | slugify }}" class="tag">{{ tag }}</a>
      {% endfor %}
    </div>
    {% endif %}

    {% comment %} 포스트 이미지: 메타 정보 아래에 표시 {% endcomment %}
    {% if page.image %}
    <div class="post-image">
      {% assign image_path = page.image | relative_url %}
      {% if page.image_alt %}
        {% assign image_alt_text = page.image_alt | escape %}
      {% else %}
        {% assign image_alt_text = page.title | escape %}
      {% endif %}
      <img src="{{ image_path }}" alt="{{ image_alt_text }}" class="clickable-image" data-full-src="{{ image_path }}" data-original-src="{{ page.image }}" loading="eager" decoding="async" fetchpriority="high" width="1200" height="675" onerror="this.style.display='none';" sizes="(max-width: 768px) 100vw, 1200px">
    </div>
    {% endif %}
  </header>

  {% if page.audio_file %}
    {% include audio-player.html audio_url=page.audio_file %}
  {% endif %}

  {% if page.toc %}
  {% include toc.html content=content %}
  {% endif %}

  {% comment %} TOC 아래 광고 - 긴 글에서만 표시 {% endcomment %}
  {% assign word_count = content | number_of_words %}
  {% if word_count > 500 and site.google_adsense %}
  {% include adsense.html type="in-article" %}
  {% endif %}

  <div class="post-content" itemprop="articleBody">
    {{ content }}
  </div>

  {% comment %} 콘텐츠 하단 광고 {% endcomment %}
  {% if site.google_adsense %}
  {% include adsense.html type="multiplex" %}
  {% endif %}

  <footer class="post-footer">
    {% include share-buttons.html %}
  </footer>

  {% assign posts = site.posts | where_exp: "post", "post.url != page.url" %}
  {% if page.category %}
    {% assign related = posts | where: "category", page.category | limit: 3 %}
  {% elsif page.categories.first %}
    {% assign cat = page.categories.first %}
    {% assign related = posts | where_exp: "post", "post.categories contains cat" | limit: 3 %}
  {% else %}
    {% assign related = posts | limit: 3 %}
  {% endif %}

  {% comment %} 관련 포스트 위 광고 {% endcomment %}
  {% if site.google_adsense %}
  {% include adsense.html type="footer" %}
  {% endif %}

  {% if related.size > 0 %}
  <section class="related-posts-section" aria-labelledby="related-posts-heading">
    <div class="related-posts-header">
      <div class="related-posts-icon">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
          <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/>
          <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/>
          <line x1="8" y1="6" x2="16" y2="6" opacity="0.5"/>
          <line x1="8" y1="10" x2="16" y2="10" opacity="0.5"/>
          <line x1="8" y1="14" x2="12" y2="14" opacity="0.5"/>
        </svg>
      </div>
      <div class="related-posts-title-wrapper">
        <h3 id="related-posts-heading">Continue Reading</h3>
        <p class="related-posts-subtitle">이 글과 관련된 포스트를 확인해보세요</p>
      </div>
      <div class="related-posts-count">{{ related.size }}개의 관련 글</div>
    </div>
    <div class="related-posts-grid">
      {% for post in related limit: 3 %}
      <article class="related-post-card" data-category="{{ post.category | default: post.categories.first | default: 'blog' | downcase }}">
        <a href="{{ post.url | relative_url }}" class="related-post-link" aria-label="Read: {{ post.title | escape }}">
          <div class="related-post-header">
            <span class="related-post-category">{{ post.category | default: post.categories.first | default: "Blog" }}</span>
            <span class="related-post-number">{{ forloop.index | prepend: '0' | slice: -2, 2 }}</span>
          </div>
          <div class="related-post-body">
            <h4 class="related-post-title">{{ post.title | escape }}</h4>
            {% if post.excerpt %}
            <p class="related-post-excerpt">{{ post.excerpt | strip_html | truncate: 100 }}</p>
            {% endif %}
          </div>
          <div class="related-post-footer">
            <time class="related-post-date" datetime="{{ post.date | date_to_xmlschema }}">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                <line x1="16" y1="2" x2="16" y2="6"/>
                <line x1="8" y1="2" x2="8" y2="6"/>
                <line x1="3" y1="10" x2="21" y2="10"/>
              </svg>
              {{ post.date | date: "%Y. %m. %d" }}
            </time>
            <span class="related-post-cta">
              <span>Read more</span>
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="5" y1="12" x2="19" y2="12"/>
                <polyline points="12 5 19 12 12 19"/>
              </svg>
            </span>
          </div>
        </a>
      </article>
      {% endfor %}
    </div>
  </section>
  {% endif %}

  {% include giscus.html %}
</article>

{% include mermaid.html %}
